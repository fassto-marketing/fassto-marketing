<!DOCTYPE html>
<html>
<head>
  <title>이메일 대량 발송</title>
</head>

<body class="bg-gray-50 flex flex-col min-h-screen">

  <nav class="bg-gray-100 border-b border-gray-300 mb-6">
    <div class="container mx-auto px-4 py-3 flex justify-between items-center">
      <a href="index.html">
        <img src="파스토 로고.png" alt="파스토 로고" class="h-8">
      </a>
      <button id="menu-toggle" class="block md:hidden text-gray-700 focus:outline-none">
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
        </svg>
      </button>
      <ul id="menu" class="transform transition-transform duration-300 ease-in-out md:flex flex-col md:flex-row md:items-center md:space-x-6 space-y-2 md:space-y-0 mt-4 md:mt-0 w-full md:w-auto">
        <li><a href="notice-tool.html" class="block text-gray-700 hover:text-green-600 font-medium px-3 py-2 rounded-md transition">공지 이미지 생성기</a></li>
        <li><a href="coordinate-finder.html" class="block text-gray-700 hover:text-green-600 font-medium px-3 py-2 rounded-md transition">좌표 찾기 도구</a></li>
        <li><a href="url-cut.html" class="block text-gray-700 hover:text-green-600 font-medium px-3 py-2 rounded-md transition">URL 단축기</a></li>
      </ul>
    </div>
  </nav>
  
<body>
  <h1>대량 이메일 보내기</h1>
  <form id="emailForm">
    <input type="text" name="subject" placeholder="제목" required><br><br>
    <textarea name="body" placeholder="본문 HTML로 작성" required></textarea><br><br>
    <textarea name="recipients" placeholder="수신자 이메일 목록 (쉼표로 구분)" required></textarea><br><br>
    <button type="submit">발송</button>
  </form>

   <footer class="bg-gray-200 text-center p-4 mt-auto">
    <p class="text-sm text-gray-600">© 2025 Fassto Marketing. All Rights Reserved.</p>
   </footer>

  <script>
    document.getElementById('emailForm').addEventListener('submit', async function(e) {
      e.preventDefault();
      const subject = this.subject.value;
      const body = this.body.value;
      const recipients = this.recipients.value;

      const response = await fetch('/.netlify/functions/send-bulk-email', {
        method: 'POST',
        body: JSON.stringify({ subject, body, recipients }),
      });

      const result = await response.json();
      alert(result.success ? "성공적으로 발송됨!" : "오류: " + result.error);
    });
  </script>

  
</body>
</html>
