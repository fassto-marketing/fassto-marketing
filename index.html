<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Fassto 공지 이미지 생성기</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <style>
    @import url('https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard.css');
    
    body {
      font-family: 'Pretendard', sans-serif;
    }
    
    .preview-box {
      transition: background-color 0.3s ease;
    }
    
    .custom-input {
      width: 100%;
      padding: 0.5rem;
      border: 1px solid #e2e8f0;
      border-radius: 0.375rem;
      margin-bottom: 1rem;
    }
    
    .custom-textarea {
      width: 100%;
      padding: 0.5rem;
      border: 1px solid #e2e8f0;
      border-radius: 0.375rem;
      min-height: 150px;
      margin-bottom: 1rem;
    }
    
    .custom-button {
      background-color: #00855B;
      color: white;
      padding: 0.5rem 1rem;
      border-radius: 0.375rem;
      font-weight: bold;
      cursor: pointer;
      transition: background-color 0.3s ease;
      border: none;
      width: 100%;
    }
    
    .custom-button:hover {
      background-color: #006c4a;
    }
    
    .preview-button {
      display: inline-block;
      padding: 14px 32px;
      background-color: #00855B;
      color: white;
      border-radius: 9999px;
      font-weight: bold;
      text-decoration: none;
      font-size: 16px;
    }
    
    .code-box {
      width: 100%;
      height: 150px;
      font-family: monospace;
      font-size: 12px;
      padding: 0.5rem;
      border: 1px solid #e2e8f0;
      border-radius: 0.375rem;
      resize: none;
      margin-bottom: 1rem;
    }
  </style>
</head>
<body class="bg-gray-50">
  <div class="container mx-auto p-4 max-w-6xl">
    <h1 class="text-2xl font-bold text-center my-6">Fassto 공지 이미지 생성기</h1>
    
    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
      <!-- Input Section -->
      <div class="bg-white p-6 rounded-lg shadow-md">
        <h2 class="text-xl font-bold mb-4">설정</h2>
        
        <div class="mb-4">
          <label class="block text-sm font-medium mb-1">제목</label>
          <input 
            type="text" 
            id="title" 
            value="반품 주문 관리 안내" 
            class="custom-input"
            placeholder="제목 입력"
          >
        </div>
        
        <div class="mb-4">
          <label class="block text-sm font-medium mb-1">본문</label>
          <textarea 
            id="content" 
            class="custom-textarea"
            placeholder="본문 입력"
          >반품 요청 처리 절차가 변경되었습니다. 자세한 내용은 아래 버튼을 클릭해 확인해 주세요.</textarea>
        </div>
        
        <div class="mb-4">
          <label class="block text-sm font-medium mb-1">버튼 텍스트</label>
          <input 
            type="text" 
            id="buttonText" 
            value="가이드 보기" 
            class="custom-input"
            placeholder="버튼 텍스트 입력"
          >
        </div>
        
        <div class="mb-4">
          <label class="block text-sm font-medium mb-1">버튼 링크</label>
          <input 
            type="text" 
            id="buttonLink" 
            value="https://guide-kr.fassto.ai/1c736b86-bfba-80a3-ba3f-eefbe6a4143e" 
            class="custom-input"
            placeholder="버튼 링크 입력"
          >
        </div>
        
        <div class="mb-4">
          <label class="block text-sm font-medium mb-1">배경색</label>
          <input 
            type="color" 
            id="bgColor" 
            value="#E6F3EF" 
            class="custom-input h-10"
            title="배경색 선택"
          >
        </div>
      </div>
      
      <!-- Preview Section -->
      <div class="bg-white p-6 rounded-lg shadow-md">
        <h2 class="text-xl font-bold mb-4">미리보기</h2>
        
        <div id="preview" class="preview-box mb-6 border rounded-lg overflow-hidden shadow-sm">
          <!-- Preview content will be inserted here by JavaScript -->
        </div>
        
        <h3 class="text-lg font-bold mb-2">HTML 코드</h3>
        <textarea id="codeOutput" class="code-box" readonly></textarea>
        
        <button id="copyButton" class="custom-button">코드 복사하기</button>
      </div>
    </div>
  </div>

  <script>
    // Elements
    const titleInput = document.getElementById('title');
    const contentInput = document.getElementById('content');
    const buttonTextInput = document.getElementById('buttonText');
    const buttonLinkInput = document.getElementById('buttonLink');
    const bgColorInput = document.getElementById('bgColor');
    const previewElement = document.getElementById('preview');
    const codeOutput = document.getElementById('codeOutput');
    const copyButton = document.getElementById('copyButton');
    
    // Update preview and code
    function updatePreview() {
      const title = titleInput.value;
      const content = contentInput.value;
      const buttonText = buttonTextInput.value;
      const buttonLink = buttonLinkInput.value;
      const bgColor = bgColorInput.value;
      
      // Update preview
      previewElement.innerHTML = `
        <div style="text-align: center; padding: 40px 0; background-color: ${bgColor}; font-family: 'Pretendard', sans-serif;">
          <h2 style="font-size: 20px; font-weight: bold; margin-bottom: 16px;">${title}</h2>
          <p style="font-size: 14px; color: #333; margin-bottom: 24px; white-space: pre-line;">${content}</p>
          <a href="${buttonLink}" target="_blank" style="display: inline-block; padding: 14px 32px; background-color: #00855B; color: white; border-radius: 9999px; font-weight: bold; text-decoration: none; font-size: 16px;">
            ${buttonText}
          </a>
        </div>
      `;
      
      // Update code output
      codeOutput.value = `<div style="text-align: center; padding: 40px 0; background-color: ${bgColor}; font-family: 'Pretendard Variable', sans-serif;">
  <h2 style="font-size: 20px; font-weight: bold; margin-bottom: 16px;">${title}</h2>
  <p style="font-size: 14px; color: #333; margin-bottom: 24px; white-space: pre-line;">${content}</p>
  <a href="${buttonLink}" target="_blank" style="display: inline-block; padding: 14px 32px; background-color: #00855B; color: white; border-radius: 9999px; font-weight: bold; text-decoration: none; font-size: 16px;">
    ${buttonText}
  </a>
</div>`;
    }
    
    // Copy to clipboard function
    copyButton.addEventListener('click', () => {
      codeOutput.select();
      try {
        document.execCommand('copy');
        alert('코드가 클립보드에 복사되었습니다!');
      } catch (err) {
        console.error('복사 실패:', err);
        
        // Try the modern approach if available
        if (navigator.clipboard) {
          navigator.clipboard.writeText(codeOutput.value)
            .then(() => alert('코드가 클립보드에 복사되었습니다!'))
            .catch(err => {
              console.error('복사 실패:', err);
              alert('복사 중 오류가 발생했습니다. 코드를 직접 선택해서 복사해 주세요.');
            });
        } else {
          alert('복사 기능이 지원되지 않습니다. 코드를 직접 선택해서 복사해 주세요.');
        }
      }
    });
    
    // Add event listeners to all inputs
    titleInput.addEventListener('input', updatePreview);
    contentInput.addEventListener('input', updatePreview);
    buttonTextInput.addEventListener('input', updatePreview);
    buttonLinkInput.addEventListener('input', updatePreview);
    bgColorInput.addEventListener('input', updatePreview);
    
    // Initialize preview
    updatePreview();
  </script>
</body>
</html>
